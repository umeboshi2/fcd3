webpackJsonp([3],{0:function(t,e,r){var n,o,i,a,u,s,p,c,l,f,_;i=r(3),r(109),_=r(51),c=r(108),p=[{appname:"bumblr",name:"Bumblr",url:"#bumblr"}],c.set("applets",p),l=c.get("brand"),l.url="#",c.set({brand:l}),o=Backbone.Radio.channel("global"),a=Backbone.Radio.channel("messages"),n=Backbone.Radio.channel("static-documents"),f={label:"Main",applets:["bumblr"],single_applet:!1},s=[f,{label:"Stuff",single_applet:!0,applets:["bumblr","bumblr"]}],c.set("applet_menus",s),o.reply("main:app:appmodel",function(){return c}),r(107),r(103),u=_(c),u.start(),t.exports=u},49:function(t,e,r){var n,o,i,a,u,s,p,c,l,f=function(t,e){function r(){this.constructor=t}for(var n in e)h.call(e,n)&&(t[n]=e[n]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},h={}.hasOwnProperty;n=r(2),u=n.Radio.channel("bumblr"),o=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return f(e,t),e.prototype.initialize=function(){return this.fetch(),this.on("change",this.save,this)},e.prototype.fetch=function(){return this.set(JSON.parse(localStorage.getItem(this.id)))},e.prototype.save=function(t,e){return localStorage.setItem(this.id,JSON.stringify(this.toJSON())),$.ajax({success:e.success,error:e.error})},e.prototype.destroy=function(t){return localStorage.removeItem(this.id)},e.prototype.isEmpty=function(){return _.size(this.attributes<=1)},e}(n.Model),p="//api.tumblr.com/v2",s=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return f(e,t),e.prototype.id="bumblr_settings",e}(o),i=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return f(e,t),e.prototype.baseURL=p,e}(n.Model),a=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return f(e,t),e.prototype.url=function(){return this.baseURL+"/blog/"+this.id+"/info?api_key="+this.api_key+"&callback=?"},e}(i),l="4mhV8B1YQK6PUA2NW8eZZXVHjU55TPJ3UZnZGrbSoCnqJaxDyH",c=new s({consumer_key:l}),u.reply("get_app_settings",function(){return c}),t.exports={BlogInfo:a}},54:function(t,e,r){var n,o,i,a,u,s,p,c,l=function(t,e){function r(){this.constructor=t}for(var n in e)f.call(e,n)&&(t[n]=e[n]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},f={}.hasOwnProperty;n=r(7),c=r(8),o=r(2),u=r(3),a=o.Radio.channel("global"),s=o.Radio.channel("messages"),p=o.Radio.channel("resources"),i=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return l(e,t),e.prototype.local_storage_key=null,e.prototype.initialize=function(){return this.fetch(),this.on("change",this.save,this)},e.prototype.fetch=function(){var t;return t=JSON.parse(localStorage.getItem(this.local_storage_key))||[],this.set(t)},e.prototype.save=function(t){return localStorage.setItem(this.local_storage_key,JSON.stringify(this.toJSON()))},e}(o.Collection),t.exports={BaseLocalStorageCollection:i}},88:function(t,e,r){!function(e,n){t.exports=n(r(2))}(this,function(t){function e(){return(65536*(1+Math.random())|0).toString(16).substring(1)}function r(){return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}function n(t){return t===Object(t)}function o(t,e){for(var r=t.length;r--;)if(t[r]===e)return!0;return!1}function i(t,e){for(var r in e)t[r]=e[r];return t}function a(t,e){if(null!=t){var r=t[e];return"function"==typeof r?t[e]():r}}return t.LocalStorage=window.Store=function(t,e){if(!this.localStorage)throw"Backbone.localStorage: Environment does not support localStorage.";this.name=t,this.serializer=e||{serialize:function(t){return n(t)?JSON.stringify(t):t},deserialize:function(t){return t&&JSON.parse(t)}};var r=this.localStorage().getItem(this.name);this.records=r&&r.split(",")||[]},i(t.LocalStorage.prototype,{save:function(){this.localStorage().setItem(this.name,this.records.join(","))},create:function(t){return t.id||0===t.id||(t.id=r(),t.set(t.idAttribute,t.id)),this.localStorage().setItem(this._itemName(t.id),this.serializer.serialize(t)),this.records.push(t.id.toString()),this.save(),this.find(t)},update:function(t){this.localStorage().setItem(this._itemName(t.id),this.serializer.serialize(t));var e=t.id.toString();return o(this.records,e)||(this.records.push(e),this.save()),this.find(t)},find:function(t){return this.serializer.deserialize(this.localStorage().getItem(this._itemName(t.id)))},findAll:function(){for(var t,e,r=[],n=0;n<this.records.length;n++)t=this.records[n],e=this.serializer.deserialize(this.localStorage().getItem(this._itemName(t))),null!=e&&r.push(e);return r},destroy:function(t){this.localStorage().removeItem(this._itemName(t.id));for(var e=t.id.toString(),r=0;r<this.records.length;r++)this.records[r]===e&&this.records.splice(r,1);return this.save(),t},localStorage:function(){return localStorage},_clear:function(){var t=this.localStorage(),e=new RegExp("^"+this.name+"-");t.removeItem(this.name);for(var r in t)e.test(r)&&t.removeItem(r);this.records.length=0},_storageSize:function(){return this.localStorage().length},_itemName:function(t){return this.name+"-"+t}}),t.LocalStorage.sync=window.Store.sync=t.localSync=function(e,r,n){var o,i,u=a(r,"localStorage")||a(r.collection,"localStorage"),s=t.$?t.$.Deferred&&t.$.Deferred():t.Deferred&&t.Deferred();try{switch(e){case"read":o=void 0!=r.id?u.find(r):u.findAll();break;case"create":o=u.create(r);break;case"update":o=u.update(r);break;case"delete":o=u.destroy(r)}}catch(t){i=22===t.code&&0===u._storageSize()?"Private browsing is unsupported":t.message}return o?(n&&n.success&&("0.9.10"===t.VERSION?n.success(r,o,n):n.success(o)),s&&s.resolve(o)):(i=i?i:"Record Not Found",n&&n.error&&("0.9.10"===t.VERSION?n.error(r,i,n):n.error(i)),s&&s.reject(i)),n&&n.complete&&n.complete(o),s&&s.promise()},t.ajaxSync=t.sync,t.getSyncMethod=function(e,r){var n=r&&r.ajaxSync;return n||!a(e,"localStorage")&&!a(e.collection,"localStorage")?t.ajaxSync:t.localSync},t.sync=function(e,r,n){return t.getSyncMethod(r,n).apply(this,[e,r,n])},t.LocalStorage})},101:function(t,e,r){var n,o,i,a,u,s,p,c,l,f,_,h,d,y,g,m,b=function(t,e){function r(){this.constructor=t}for(var n in e)v.call(e,n)&&(t[n]=e[n]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},v={}.hasOwnProperty;n=r(2),p=r(3),n.localStorage=r(88),l=r(46),o=r(54).BaseLocalStorageCollection,c=r(49),s=n.Radio.channel("global"),a=n.Radio.channel("bumblr"),h="//api.tumblr.com/v2",f=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return b(e,t),e.prototype.url=function(){return h+"/"+this.id+"/posts/photo?callback=?"},e}(n.Collection),i=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return b(e,t),e.prototype.mode="server",e.prototype.full=!0,e.prototype.baseURL=h,e.prototype.url=function(){return this.baseURL+"/blog/"+this.base_hostname+"/posts/photo?api_key="+this.api_key},e.prototype.fetch=function(t){var r,n,o;return t||(t={}),n=t.data||{},r=this.state.currentPage,o=r*this.state.pageSize,t.offset=o,t.dataType="jsonp",e.__super__.fetch.call(this,t)},e.prototype.parse=function(t){var r;return r=t.response.total_posts,this.state.totalRecords=r,e.__super__.parse.call(this,t.response.posts)},e.prototype.state={firstPage:0,pageSize:15},e.prototype.queryParams={pageSize:"limit",offset:function(){return this.state.currentPage*this.state.pageSize}},e}(l),y=function(t){var e,r,n;return n=a.request("get_app_settings"),e=n.get("consumer_key"),r=new i,r.api_key=e,r.base_hostname=t,r},g="make_blog_post_collection",a.reply(g,function(t){return y(t)}),u=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return b(e,t),e.prototype.model=c.BlogInfo,e.prototype.add_blog=function(t){var e,r;return r=t+".tumblr.com",e=new c.BlogInfo,e.set("id",r),e.set("name",t),e.api_key=this.api_key,this.add(e),this.save(),e.fetch(),e},e}(o),d=new u,m=a.request("get_app_settings"),_=m.get("consumer_key"),d.api_key=_,a.reply("get_local_blogs",function(){return d}),t.exports={PhotoPostCollection:f}},102:function(t,e,r){var n,o,i,a,u,s,p,c,l,f,_,h,d,y,g,m=function(t,e){function r(){this.constructor=t}for(var n in e)b.call(e,n)&&(t[n]=e[n]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},b={}.hasOwnProperty;n=r(7),o=r(2),c=r(3),h=r(10),p=r(28).MainController,d=r(30).make_sidebar_template,f=r(49),u=r(101),l=r(104),_=r(105),a=o.Radio.channel("bumblr"),g=d(),y=new o.Model({entries:[{name:"List Blogs",url:"#bumblr/listblogs"},{name:"Settings",url:"#bumblr/settings"}]}),i=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return m(e,t),e.prototype.template=g,e.prototype.regions={sidebar:"#sidebar",content:"#main-content"},e}(o.Marionette.View),s=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return m(e,t),e.prototype.layoutClass=i,e.prototype.sidebarclass=_,e.prototype.sidebar_model=y,e.prototype.set_header=function(t){var e;return e=n("#header"),e.text(t)},e.prototype.start=function(){return this.setup_layout_if_needed(),this.set_header("Bumblr"),this.list_blogs()},e.prototype.show_mainview=function(){var t;return this._make_sidebar(),t=new l.MainBumblrView,this._show_content(t),h.scroll_top_fast()},e.prototype.show_dashboard=function(){var t;return this._make_sidebar(),t=new l.BumblrDashboardView,this._show_content(t),h.scroll_top_fast()},e.prototype.list_blogs=function(){return this.setup_layout_if_needed(),this._make_sidebar(),r.e(0,function(t){return function(){var e,n,o;return console.log("sidebar created"),n=a.request("get_local_blogs"),console.log("blogs",n),e=r(155),o=new e({collection:n}),t._show_content(o)}}(this))},e.prototype.view_blog=function(t){return this.setup_layout_if_needed(),this._make_sidebar(),r.e(0,function(e){return function(){var n,o,i,u;return i=t+".tumblr.com",o=a.request("make_blog_post_collection",i),n=r(157),u=o.fetch(),u.done(function(){var t;return t=new n({collection:o}),e._show_content(t),h.scroll_top_fast()})}}(this))},e.prototype.add_new_blog=function(){return this.setup_layout_if_needed(),this._make_sidebar(),r.e(0,function(t){return function(){var e,n;return e=r(156),n=new e,t._show_content(n),h.scroll_top_fast()}}(this))},e.prototype.settings_page=function(){return this.setup_layout_if_needed(),this._make_sidebar(),r.e(0,function(t){return function(){var e,n,o;return e=r(158),n=a.request("get_app_settings"),o=new e({model:n}),t._show_content(o),h.scroll_top_fast()}}(this))},e}(p),t.exports=s},103:function(t,e,r){var n,o,i,a,u,s=function(t,e){function r(){this.constructor=t}for(var n in e)p.call(e,n)&&(t[n]=e[n]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},p={}.hasOwnProperty;n=r(27),i=r(102),a=Backbone.Radio.channel("global"),o=Backbone.Radio.channel("bumblr"),u=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return s(e,t),e.prototype.appRoutes={bumblr:"start","bumblr/settings":"settings_page","bumblr/dashboard":"show_dashboard","bumblr/listblogs":"list_blogs","bumblr/viewblog/:id":"view_blog","bumblr/addblog":"add_new_blog"},e}(n),a.reply("applet:bumblr:route",function(){var t,e,r;return e=new i(a),t=o.request("get_local_blogs"),t.fetch(),r=new u({controller:e})})},104:function(t,e,r){var n,o,i,a,u,s,p,c,l=function(t,e){function r(){this.constructor=t}for(var n in e)f.call(e,n)&&(t[n]=e[n]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},f={}.hasOwnProperty;n=r(2),u=r(3),c=r(4),o=n.Radio.channel("bumblr"),p=c.renderable(function(t){return c.p("main bumblr view")}),s=c.renderable(function(t){return c.p("bumblr_dashboard_view")}),a=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return l(e,t),e.prototype.template=p,e}(n.Marionette.View),i=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return l(e,t),e.prototype.template=s,e}(n.Marionette.View),t.exports={MainBumblrView:a,BumblrDashboardView:i}},105:117,106:function(t,e,r){var n,o,i,a,u,s,p,c,l,f,_,h=function(t,e){function r(){this.constructor=t}for(var n in e)d.call(e,n)&&(t[n]=e[n]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},d={}.hasOwnProperty;n=r(2),s=r(3),u=r(28).MainController,f=r(24).login_form,c=r(14).SlideDownRegion,a=n.Radio.channel("global"),p=n.Radio.channel("messages"),_=r(4),l=_.renderable(function(){return _.div("#main-content.col-sm-12")}),i=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return h(e,t),e.prototype.template=l,e.prototype.regions=function(){return{content:new c({el:"#main-content",speed:"slow"})}},e}(n.Marionette.View),o=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return h(e,t),e.prototype.layoutClass=i,e.prototype._view_resource=function(t){return this.setup_layout_if_needed(),r.e(0,function(e){return function(){var n,o;return n=r(45).FrontDoorMainView,o=new n({model:t}),e.layout.showChildView("content",o)}}(this))},e.prototype._view_login=function(){return r.e(0,function(t){return function(){var e,n;return e=r(159),n=new e,t.layout.showChildView("content",n)}}(this))},e.prototype.view_page=function(t){var e,r;return e=a.request("main:ghost:posts"),r=a.request("main:ghost:get-post",t),r.done(function(r){return function(){var n;return n=e.find({slug:t}),r._view_resource(n)}}(this)),r.fail(function(t){return function(){return p.request("danger","Failed to get document")}}(this))},e.prototype.frontdoor_needuser=function(){var t;return t=a.request("current-user"),t.has("name")?this.frontdoor_hasuser(t):this.show_login()},e.prototype.show_login=function(){return this.setup_layout_if_needed(),this._view_login()},e.prototype.frontdoor_hasuser=function(t){return this.default_view()},e.prototype.default_view=function(){return this.setup_layout_if_needed(),r.e(0,function(t){return function(){var e,n;return e=r(45).DefaultFrontDoor,n=new e,t.layout.showChildView("content",n)}}(this))},e.prototype.default_view_ghost=function(){return this.setup_layout_if_needed(),r.e(0,function(t){return function(){var e,n,o;return e=r(45).PostList,n=a.request("main:ghost:posts"),o=n.fetch(),o.done(function(){var r;return r=new e({collection:n}),t.layout.showChildView("content",r)})}}(this))},e.prototype.frontdoor=function(){var t;return t=a.request("main:app:appmodel"),this.default_view()},e}(u),t.exports=o},107:function(t,e,r){var n,o,i,a,u=function(t,e){function r(){this.constructor=t}for(var n in e)s.call(e,n)&&(t[n]=e[n]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},s={}.hasOwnProperty;n=r(27),o=r(106),i=Backbone.Radio.channel("global"),a=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return u(e,t),e.prototype.appRoutes={"":"frontdoor",frontdoor:"frontdoor","frontdoor/view":"frontdoor","frontdoor/view/:name":"view_page","frontdoor/login":"show_login","pages/:name":"view_page"},e}(n),i.reply("applet:frontdoor:route",function(){var t,e;return t=new o(i),e=new a({controller:t})})},108:function(t,e,r){var n,o,i,a,u,s,p,c,l,f,_,h=function(t,e){function r(){this.constructor=t}for(var n in e)d.call(e,n)&&(t[n]=e[n]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},d={}.hasOwnProperty;n=r(7),l=r(7),p=r(8),o=r(2),i=r(113),a=r(14).BootstrapModalRegion,s=r(110),_=r(4),f=_.renderable(function(){return _.div("#navbar-view-container"),_.div(".container-fluid",function(){return _.div(".row",function(){return _.div(".col-sm-12",function(){return _.div("#messages")})}),_.div("#applet-content.row")}),_.div("#footer"),_.div("#modal")}),u=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return h(e,t),e.prototype.template=f,e.prototype.regions={messages:"#messages",navbar:"#navbar-view-container",modal:new a,applet:"#applet-content",footer:"#footer"},e}(o.Marionette.View),c=new i({hasUser:!1,needUser:!1,brand:{name:"FCD#3",url:"/"},appView:u,navbarView:s,container:"container-fluid"}),t.exports=c},109:function(t,e,r){var n,o,i,a,u,s,p,c,l,f,_=function(t,e){function r(){this.constructor=t}for(var n in e)h.call(e,n)&&(t[n]=e[n]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},h={}.hasOwnProperty;n=r(7),i=r(2),s=r(3),f=r(4),r(26),c=r(111),l=r(50),r(52),r(29),r(112),u=i.Radio.channel("global"),p=i.Radio.channel("messages"),a=i.Radio.channel("static-documents"),o=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return _(e,t),e.prototype.templateContext=function(){return{applets:this.applets}},e.prototype.template=f.renderable(function(t){return(null!=t?t.applets:void 0)?f.li(".dropdown",function(){return f.a(".dropdown-toggle",{"data-toggle":"dropdown"},function(){return f.text(t.label),f.b(".caret")}),f.ul(".dropdown-menu",function(){var e,r,n,o,i;for(o=t.applets,i=[],r=0,n=o.length;r<n;r++)e=o[r],i.push(f.li({appname:applets[e].appname},function(){return f.a({href:applets[e].url},applets[e].name)}));return i})}):f.li(function(){return f.a({href:t.url},t.label)})}),e}(i.Marionette.View),u.reply("mainpage:init",function(t){var e;return e=u.request("main:app:object"),l(e),u.trigger("mainpage:displayed")}),u.on("mainpage:displayed",function(){var t,e,r,n,o;if(n=u.request("current-user"),o=new c({model:n}),t=u.request("main:app:object"),e=u.request("main:app:appmodel"),e.get("hasUser"))return r=t.getView().getChildView("navbar"),r.showChildView("usermenu",o)}),t.exports={}},110:function(t,e,r){var n,o,i,a,u,s,p,c,l=function(t,e){function r(){this.constructor=t}for(var n in e)f.call(e,n)&&(t[n]=e[n]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},f={}.hasOwnProperty;c=r(4),p=r(22),u=p.navbar_collapse_button,o=p.dropdown_toggle,a=c.renderable(function(t){return c.div("."+(t.container||"container"),function(){return c.div(".navbar-header",function(){return u("navbar-view-collapse"),c.a(".navbar-brand",{href:t.brand.url},t.brand.name)}),c.div("#navbar-view-collapse.collapse.navbar-collapse",function(){return c.ul(".nav.navbar-nav.nav-pills",function(){var e,r,n,o,i,a,u,s,p,l;for(r={},s=t.applets,o=0,a=s.length;o<a;o++)e=s[o],r[e.appname]=e;for(p=t.applet_menus,l=[],i=0,u=p.length;i<u;i++)n=p[i],(null!=n?n.applets:void 0)?l.push(c.li(".dropdown",function(){return c.a(".dropdown-toggle",{"data-toggle":"dropdown"},function(){return c.text(n.label),c.b(".caret")}),c.ul(".dropdown-menu",function(){var t,e,o,i,a;for(i=n.applets,a=[],e=0,o=i.length;e<o;e++)t=i[e],a.push(c.li({appname:r[t].appname},function(){return c.a({href:r[t].url},r[t].name)}));return a})})):l.push(c.li(function(){return c.a({href:n.url},n.label)}));return l}),c.ul("#user-menu.nav.navbar-nav.navbar-right"),c.div("#form-search-container")})})}),i=c.renderable(function(t){return c.div("."+(t.container||"container"),function(){return c.div(".navbar-header",function(){return u("navbar-view-collapse"),c.a(".navbar-brand",{href:t.brand.url},t.brand.name)}),c.div("#navbar-view-collapse.collapse.navbar-collapse",function(){return c.ul("#applet-menus.nav.navbar-nav.nav-pills"),c.ul("#user-menu.nav.navbar-nav.navbar-right"),c.div("#form-search-container")})})}),s=c.renderable(function(t){return c.nav("#navbar-view.navbar.navbar-static-top.navbar-default",{xmlns:"http://www.w3.org/1999/xhtml","xml:lang":"en",role:"navigation"},function(){return a(t)})}),n=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return l(e,t),e.prototype.template=s,e.prototype.regions={appletmenus:"#applet-menus",usermenu:"#user-menu",mainmenu:"#main-menu"},e}(Backbone.Marionette.View),t.exports=n},111:function(t,e,r){var n,o,i,a,u,s=function(t,e){function r(){this.constructor=t}for(var n in e)p.call(e,n)&&(t[n]=e[n]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},p={}.hasOwnProperty;n=r(2),o=r(3),a=r(4),u=a.renderable(function(t){var e;return e=t.name,a.ul("#user-menu.ctx-menu.nav.navbar-nav",function(){return a.li(".dropdown",function(){return a.a(".dropdown-toggle",{"data-toggle":"dropdown"},function(){return void 0===e?a.text("Guest"):a.text(e),a.b(".caret")}),a.ul(".dropdown-menu",function(){var r,n,o,i,u;if(a.li(function(){return a.a({href:"/blog"},"Blog")}),void 0===e)return a.li(function(){return a.a({href:"/#frontdoor/login"},"login")});for(a.li(function(){return a.a({href:"#profile"},"Profile Page")}),r=!1,i=t.roles,n=0,o=i.length;n<o;n++)if(u=i[n],"Owner"===u.name){r=!0;break}return r&&(a.li(function(){var t;return t="/blog/ghost",a.a({href:t},"Administer Blog")}),a.li(function(){var t,e;return t="/admin",e=window.location.pathname,""===e.split(t)[0]&&(t="#"),a.a({href:t},"Administer Site")})),a.li(function(){return a.a({href:"/blog/logout"},"Logout")})})})})}),i=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return s(e,t),e.prototype.template=u,e}(n.Marionette.View),t.exports=i},112:function(t,e,r){var n,o,i,a,u,s,p,c,l,f,_,h=function(t,e){function r(){this.constructor=t}for(var n in e)d.call(e,n)&&(t[n]=e[n]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},d={}.hasOwnProperty;n=r(7),_=r(8),o=r(2),p=r(3),a=r(54).BaseLocalStorageCollection,i=r(116).BaseCollection,s=o.Radio.channel("global"),c=o.Radio.channel("messages"),u=o.Radio.channel("static-documents"),l=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return h(e,t),e.prototype.url=function(){return"/assets/documents/"+this.id+".md"},e.prototype.fetch=function(t){return t=_.extend(t||{},{dataType:"text"}),e.__super__.fetch.call(this,t)},e.prototype.parse=function(t){return{content:t}},e}(o.Model),f=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return h(e,t),e.prototype.model=l,e}(i),u.reply("get-document",function(t){var e;return e=new l({id:t})}),t.exports={StaticDocument:l}},113:function(t,e,r){var n,o,i,a,u,s,p=function(t,e){function r(){this.constructor=t}for(var n in e)c.call(e,n)&&(t[n]=e[n]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},c={}.hasOwnProperty;n=r(7),s=r(7),a=r(8),o=r(2),i=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return p(e,t),e.prototype.defaults={apiRoot:"/api/dev",brand:{name:"Brand",url:"/"},frontdoor_app:"frontdoor",userprofile_app:"userprofile",hasUser:!1,needUser:!1,applets:[],applet_menus:[],appRegion:"body",appView:null,navbarView:null,container:"container",regions:{},routes:[]},e}(o.Model),u={label:"Applets",applets:["foo","bar","another"],single_applet:!1,url:"/this/is/used/if/applets/is/empty/for/plain/link"},t.exports=i},116:function(t,e,r){var n,o,i=function(t,e){function r(){this.constructor=t}for(var n in e)a.call(e,n)&&(t[n]=e[n]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},a={}.hasOwnProperty;n=r(2),o=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return i(e,t),e.prototype.parse=function(t){return t.data},e}(n.Collection),t.exports={BaseCollection:o}}});